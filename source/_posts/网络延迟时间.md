---
title: 【每日算法题】网络延迟时间
tags:
  - 遍历
description: 每天一道算法题，让生活变得更好
categories:
  - 学习
  - 代码
  - 算法
abbrlink: 37352
date: 2024-11-25 10:42:49
updated: 2024-11-25 10:42:49
---

### 网络延迟时间

有 n 个网络节点，标记为 1 到 n。

给你一个列表 times，表示信号经过 有向 边的传递时间。 times[i] = (ui, vi, wi)，其中 ui 是源节点，vi 是目标节点， wi 是一个信号从源节点传递到目标节点的时间。

现在，从某个节点 K 发出一个信号。需要多久才能使所有节点都收到信号？如果不能使所有节点收到信号，返回 -1 。

### 解答

```python
class Solution:
    def networkDelayTime(self, times: List[List[int]], n: int, k: int) -> int:
        min_dist_map = [math.inf for _ in range(n)]
        graph_map = defaultdict(list)
        for (start, end, d) in times:
            graph_map[start].append([end, d])

        min_dist_map[k-1] = 0
        traveled = {}
        while len(traveled) < n:
            min_dis = math.inf
            min_index = None
            for neighbor in range(n):
                if traveled.get(neighbor) is True:
                    continue
                if min_dist_map[neighbor] < min_dis:
                    min_dis = min_dist_map[neighbor]
                    min_index = neighbor

            if min_index is None:
                return -1

            traveled[min_index] = True
            for (index, distance) in graph_map[min_index+1]:
                neighbor = index - 1
                if distance + min_dis < min_dist_map[neighbor]:
                    min_dist_map[neighbor] = distance + min_dis
        return max(min_dist_map)
```

### 思路

迪杰斯特拉算法，计算从 具体某个点 出发，到达每个点的最短时间。

### 复杂度

时间复杂度：O(n^2)

空间复杂度：O(n)
