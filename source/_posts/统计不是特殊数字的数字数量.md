---
title: 【每日算法题】统计不是特殊数字的数字数量
date: 2024-11-22 10:20:07
tags:
  - 数学
description: 每天一道算法题，让生活变得更好
categories:
  - 学习
  - 代码
  - 算法
---

### 统计不是特殊数字的数字数量

给你两个 正整数 l 和 r。对于任何数字 x，x 的所有正因数（除了 x 本身）被称为 x 的 真因数。

如果一个数字恰好仅有两个 真因数，则称该数字为 特殊数字。例如：

数字 4 是 特殊数字，因为它的真因数为 1 和 2。
数字 6 不是 特殊数字，因为它的真因数为 1、2 和 3。
返回区间 [l, r] 内 不是 特殊数字 的数字数量。

### 解题

```python
class Solution:
    def nonSpecialCount(self, l: int, r: int) -> int:
        def check(num):
            # 排除小于2的数
            if num < 2:
                return False
            # 检查是否能被从2到sqrt(num)的数整除
            for j in range(2, int(sqrt(num)) + 1):
                if num % j == 0:
                    return False
            return True

        prime_num = set()
        for i in range(int(sqrt(l)), int(sqrt(r))+1):
            if i ** 2 < l:
                continue
            if check(i):
                prime_num.add(i)

        ans = r - l + 1 - len(prime_num)
        return ans
```

### 思路

据题知，只要两个因子，看上去是一个平方数，且开方以后是质数才可以。

那么我们需要做的判断则是：

1、该数的开方是整数，

2、开方值是质数

但是要做上述判断，有点大，已经超时了。所以反过来思考，当前l至r的数值内，开方以后得所有的质数整数。当前有多少个这样的数，那么则有多少个真因子数。

边界问题考虑，因为我们左端点为 **int(sqrt(l))**，如果 **int(sqrt(l)) ** 2 < l**，表示他不在范围内，否则是在范围内的。

for example:

如果 l 是 4，左端点是2，这个2是我们要的值。如果 l 是 5，左端点同样是2，但是这个 2 ^ 2 < 5，所以不在我们范围内。

### 复杂度

n 为 数组长度

时间复杂度：O(sqrt(n))

空间复杂度：O(1)
