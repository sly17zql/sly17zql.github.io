---
title: 【每日算法题】生成不含相邻零的二进制字符串
tags:
  - 递归
description: 每天一道算法题，让生活变得更好
categories:
  - 学习
  - 代码
  - 算法
abbrlink: 47305
date: 2024-10-29 09:41:38
updated: 2024-10-29 09:41:38
---

#### 生成不含相邻零的二进制字符串

给你一个正整数 `n`。

如果一个二进制字符串 `x` 的所有长度为 2 的

子字符串

中包含 **至少** 一个 `"1"`，则称 `x` 是一个 **有效** 字符串。

返回所有长度为 `n` 的 **有效** 字符串，可以以任意顺序排列。

#### 解答

```python
from typing import List


class Solution:
    def validStrings(self, n: int) -> List[str]:

        @cache
        def inner(num, pre) -> list[str]:
            if num == 0:
                return [""]
            if pre == "1":
                return ["0" + item for item in inner(num-1, pre="0")] + ["1" + item for item in inner(num-1, pre="1")]
            if pre == "0":
                return ["1" + item for item in inner(num-1, pre="1")]

        return ["1" + item for item in inner(n-1, pre="1")] + ["0" + item for item in inner(n-1, pre="0")]

 
```

#### 思路

读题可知，当前位的选取，与前一位有着密切的关系，于是我们可以推导出：

f(i)(1) = f(i-1)(1) + f(i-1)(0)

f(i)(0) = f(i-1)(1)

于是，我们写递归函数，两个参数，一个是当前还剩下的字数的位数，以及前一个值的取值。最后使用 **@cache** 记忆检索优化。

#### 复杂度

时间复杂度: O(2 ^ N)

空间复杂度: O(1)
